<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="style.css"
      type="text/css"
    />
    <title>Phaze : Pricing</title>
  </head>
  <body>
    <nav>
      <div class="brand">PHAZE</div>
      <div class="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </div>
    </nav>
    <main>
      <center>
        <div class="full-card" id="custom-pricing-card">
          <div class="room-card">
            <button class="card button" onclick="add_room()">Add Room</button>
          </div>
          <script>
            var no_rooms = 0;
            function add_room() {
              no_rooms += 1;
              var label1 = document.createElement("label");
              label1.setAttribute("for", "toggle-switch" + no_rooms.toString());
              label1.innerHTML = "Toggle Switch : ";
              var toggle_switch = document.createElement("input");
              toggle_switch.setAttribute("type", "Number");
              toggle_switch.setAttribute("class", "room-card");
              toggle_switch.setAttribute("min", 0);
              toggle_switch.setAttribute(
                "id",
                "toggle-switch" + no_rooms.toString()
              );
              toggle_switch.defaultValue = 0;
              var brk = document.createElement("br");
              var label2 = document.createElement("label");
              label2.setAttribute("for", "dimmer-switch" + no_rooms.toString());
              label2.innerHTML = "dimmer Switch : ";
              var dimmer_switch = document.createElement("input");
              dimmer_switch.setAttribute("type", "Number");
              dimmer_switch.setAttribute("class", "room-card");
              dimmer_switch.setAttribute("min", 0);
              dimmer_switch.setAttribute(
                "id",
                "dimmer-switch" + no_rooms.toString()
              );
              dimmer_switch.defaultValue = 0;
              var room_form = document.createElement("form");
              var room = document.createElement("div");
              room.setAttribute("class", "room-card");
              room_form.appendChild(label1);
              room_form.appendChild(toggle_switch);
              room_form.appendChild(brk);
              room_form.appendChild(label2);
              room_form.appendChild(dimmer_switch);
              room.appendChild(room_form);
              document.getElementById("custom-pricing-card").appendChild(room);
              console.log(room);
            }
            function calculate() {
              var toggle_switch_count = 0;
              var dimmer_switch_count = 0;
              var estimated_price = 0;
              for (i = 0; i < no_rooms; i++) {
                toggle_switch_count += parseInt(document.getElementById(
                  "toggle-switch" + (i+1).toString()
                ).value);
                dimmer_switch_count += parseInt(document.getElementById(
                  "dimmer-switch" + (i+1).toString()
                ).value);
              }
              estimated_price =  Math.round(((((toggle_switch_count ** 1.1 * 3000) + (dimmer_switch_count ** 1.1 * 4000)) + no_rooms * 1500) + 20000)/1000) * 1000
              document.getElementById(
                "estimated-price"
              ).innerHTML = "Estimated Price : Rs. " + estimated_price.toString();
              console.log(estimated_price);
            }
          </script>
        </div>
        <div>
          <button class="card button" margin="20px" onclick="calculate()">Calculate</button>
          <div class="card button" id="estimated-price">Estimated Price : Rs. 0</div>
        </div>
      </center>
    </main>
  </body>
</html>
<!-- <div class="room-card">
    <form>
      <label for="toggle-switch">Toggle Switch : </label>
      <input
        type="number"
        id="toggle-switch"
        class="device-count"
      /><br />
      <label for="dimmer-switch">Dimmer Switch : </label>
      <input
        type="number"
        id="dimmer-switch"
        class="device-count"
      /><br />
    </form>
  </div> -->
